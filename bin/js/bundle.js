var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Assistant_1 = require("./script/Assistant");
var PageScript_1 = require("./publicScript/PageScript");
var Screen_1 = require("./publicScript/Screen");
var Card_1 = require("./script/Card");
var Guessing_1 = require("./script/Guessing");
var PageNavScript_1 = require("./publicScript/PageNavScript");
var numberListDomScript_1 = require("./template/numberListDomScript");
var Home_1 = require("./script/Home");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/Assistant.ts", Assistant_1.default);
        reg("publicScript/PageScript.ts", PageScript_1.default);
        reg("publicScript/Screen.ts", Screen_1.default);
        reg("script/Card.ts", Card_1.default);
        reg("script/Guessing.ts", Guessing_1.default);
        reg("publicScript/PageNavScript.ts", PageNavScript_1.default);
        reg("template/numberListDomScript.ts", numberListDomScript_1.default);
        reg("script/Home.ts", Home_1.default);
    };
    GameConfig.width = 750;
    GameConfig.height = 1334;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "home.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./publicScript/PageNavScript":3,"./publicScript/PageScript":4,"./publicScript/Screen":5,"./script/Assistant":6,"./script/Card":7,"./script/Guessing":8,"./script/Home":9,"./template/numberListDomScript":10}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Tabbar_1 = require("../view/Tabbar");
var PageNavScript = /** @class */ (function (_super) {
    __extends(PageNavScript, _super);
    function PageNavScript() {
        var _this = _super.call(this) || this;
        /** @prop {name:navPageScript,tips:'要跳转的scene',type:String,default:''} */
        _this.navPageScript = '';
        return _this;
    }
    PageNavScript.prototype.onClick = function () {
        Tabbar_1.Tabbar.getInstance().openScene(this.navPageScript);
    };
    return PageNavScript;
}(Laya.Script));
exports.default = PageNavScript;
},{"../view/Tabbar":12}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Tabbar_1 = require("../view/Tabbar");
var PageScript = /** @class */ (function (_super) {
    __extends(PageScript, _super);
    function PageScript() {
        var _this = _super.call(this) || this;
        /** @prop {name:showTab,tips:'是否有Tabbar',type:Bool,default:true} */
        _this.showTab = true;
        return _this;
    }
    PageScript.prototype.onEnable = function () {
        if (this.showTab) {
            Tabbar_1.Tabbar.show();
        }
    };
    PageScript.prototype.onDisable = function () {
        Tabbar_1.Tabbar.hide();
    };
    return PageScript;
}(Laya.Script));
exports.default = PageScript;
},{"../view/Tabbar":12}],5:[function(require,module,exports){
"use strict";
/*
 * @Author: Siwen
 * @Date: 2019-02-14 10:41:37
 * @Last Modified by: mikey.zhaopeng
 * @Last Modified time: 2019-02-14 11:01:19
 * 屏幕自适应脚本
 */
Object.defineProperty(exports, "__esModule", { value: true });
var Screen = /** @class */ (function (_super) {
    __extends(Screen, _super);
    function Screen() {
        var _this = _super.call(this) || this;
        /** @prop {name:bgColor,tips:'背景颜色','type:String,default:'#09083c'} */
        _this.bgColor = '#09083c';
        return _this;
    }
    Screen.prototype.onEnable = function () {
        Laya.stage.on(Laya.Event.RESIZE, this, this.onResize);
        this.onResize();
    };
    Screen.prototype.onDisable = function () {
        Laya.stage.off(Laya.Event.RESIZE, this, this.onResize);
    };
    Screen.prototype.onResize = function () {
        this.owner.width = Laya.stage.width;
        this.owner.height = Laya.stage.height;
        this.owner.graphics.drawRect(0, 0, Laya.stage.width, Laya.stage.height, this.bgColor);
    };
    return Screen;
}(Laya.Script));
exports.default = Screen;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Assistant = /** @class */ (function (_super) {
    __extends(Assistant, _super);
    function Assistant() {
        return _super.call(this) || this;
    }
    return Assistant;
}(layaMaxUI_1.ui.assistantUI));
exports.default = Assistant;
},{"../ui/layaMaxUI":11}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Tabbar_1 = require("../view/Tabbar");
var Card = /** @class */ (function (_super) {
    __extends(Card, _super);
    function Card() {
        var _this = _super.call(this) || this;
        _this.on(Laya.Event.CLICK, _this, _this.clickItem);
        return _this;
    }
    Object.defineProperty(Card.prototype, "dataSource", {
        set: function (item) {
            this._dataSource = item;
            if (item) {
                this.cardItem.skin = item.bgImg;
                this.sceneImg.skin = item.sceneImg;
                this.amount_label.text = item.amount + " " + item.coinType;
                this.current.text = item.amount / 2 + " " + item.coinType;
                this.speed.text = item.speed / 2 + "/" + item.speed;
            }
        },
        enumerable: true,
        configurable: true
    });
    Card.prototype.clickItem = function () {
        // window.localStorage.setItem('index',this._dataSource.index)
        Tabbar_1.Tabbar.getInstance().openScene("guessing.scene", this._dataSource);
    };
    return Card;
}(layaMaxUI_1.ui.CardUI));
exports.default = Card;
},{"../ui/layaMaxUI":11,"../view/Tabbar":12}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Guessing = /** @class */ (function (_super) {
    __extends(Guessing, _super);
    function Guessing() {
        var _this = _super.call(this) || this;
        _this.numberArr = []; //未选中的数据
        _this.halfArr = []; //一半的未选中数据
        _this.rawDataArr_new = []; //镜像数组
        _this.rawDataArr = [
            { index: 1, status: 1 },
            { index: 2, status: 3 },
            { index: 3, status: 1 },
            { index: 4, status: 1 },
            { index: 5, status: 4 },
            { index: 6, status: 1 },
            { index: 7, status: 1 },
            { index: 8, status: 1 },
            { index: 9, status: 4 },
            { index: 10, status: 1 },
            { index: 11, status: 3 },
            { index: 12, status: 4 },
            { index: 13, status: 1 },
            { index: 14, status: 1 },
            { index: 15, status: 3 },
            { index: 16, status: 1 },
            { index: 17, status: 1 },
        ];
        _this.btn_buy.on(Laya.Event.CLICK, _this, _this.buyFunc);
        // 选择按钮组绑定事件
        _this.random_one.on(Laya.Event.CLICK, _this, _this.selectFunc, [1]);
        _this.random_before.on(Laya.Event.CLICK, _this, _this.selectFunc, [2]);
        _this.random_after.on(Laya.Event.CLICK, _this, _this.selectFunc, [3]);
        _this.random_all.on(Laya.Event.CLICK, _this, _this.selectFunc, [4]);
        return _this;
    }
    Guessing.prototype.onEnable = function () {
        console.log('进入页面');
        // 选项卡
        this.numberList.array = this.rawDataArr;
    };
    Guessing.prototype.onOpened = function (data) {
        console.log(data, '首页传递的card数据');
    };
    /**购买 */
    Guessing.prototype.buyFunc = function () {
        alert(11123123);
    };
    /**
     * 选择按钮组
     * @param type 选择类型  1:随一  2：前半 3：后半 4：全部
     */
    Guessing.prototype.selectFunc = function (type) {
        var _this = this;
        this.rawDataArr_new = this.rawDataArr; //初始化数组
        this.numberArr = []; //初始化数组
        this.halfArr = []; //初始化数组
        this.rawDataArr_new.forEach(function (item) {
            if (item.status === 2) {
                item.status = 1;
            }
            if (item.status <= 2) {
                _this.numberArr.push(item.index);
            }
        });
        if (type === 1) {
            this.randomNumber(this.numberArr, 1); //随一
        }
        else if (type === 2) {
            this.halfArr = this.numberArr.slice(0, Math.floor(this.numberArr.length / 2)); //前半
            this.randomNumber(this.halfArr, 2);
        }
        else if (type === 3) {
            this.halfArr = this.numberArr.slice(Math.floor(this.numberArr.length / 2)); //后半
            this.randomNumber(this.halfArr, 2);
        }
        else if (type === 4) {
            this.halfArr = this.numberArr; //全部
            this.randomNumber(this.halfArr, 2);
        }
    };
    /**从数组中随机取一个数 */
    Guessing.prototype.randomNumber = function (arr, type) {
        var _this = this;
        var rand = Math.floor((Math.random() * arr.length)); //随一
        var index = arr[rand];
        if (type === 1) {
            this.rawDataArr_new.forEach(function (item) {
                if (item.index === index) {
                    item.status = 2;
                }
            });
        }
        if (type === 2) {
            arr.forEach(function (el) {
                _this.rawDataArr_new.forEach(function (item) {
                    if (el === item.index) {
                        item.status = 2;
                    }
                });
            });
        }
        this.numberList.array = this.rawDataArr_new;
    };
    return Guessing;
}(layaMaxUI_1.ui.guessingUI));
exports.default = Guessing;
},{"../ui/layaMaxUI":11}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Home = /** @class */ (function (_super) {
    __extends(Home, _super);
    function Home() {
        return _super.call(this) || this;
    }
    Home.prototype.onEnable = function () {
        // 选项卡
        this.list.array = [
            { index: 1, speed: 2, amount: 15, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_2.png', sceneImg: 'comp/home/img_scene_pk.png' },
            { index: 2, speed: 20, amount: 45, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_2.png', sceneImg: 'comp/home/img_scene_20.png' },
            { index: 3, speed: 2, amount: 90, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_2.png', sceneImg: 'comp/home/img_scene_pk.png' },
            { index: 4, speed: 2, amount: 450, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_4.png', sceneImg: 'comp/home/img_scene_pk.png' },
            { index: 5, speed: 4, amount: 900, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_4.png', sceneImg: 'comp/home/img_scene_4.png' },
            { index: 6, speed: 4, amount: 1800, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_20.png', sceneImg: 'comp/home/img_scene_20.png' },
            { index: 7, speed: 4, amount: 4500, coinType: 'USDT', bgImg: 'comp/home/img_jinbi_20.png', sceneImg: 'comp/home/img_scene_20.png' },
        ];
    };
    return Home;
}(layaMaxUI_1.ui.homeUI));
exports.default = Home;
},{"../ui/layaMaxUI":11}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Card = /** @class */ (function (_super) {
    __extends(Card, _super);
    function Card() {
        var _this = _super.call(this) || this;
        _this.on(Laya.Event.CLICK, _this, _this.clickNumber);
        return _this;
    }
    Object.defineProperty(Card.prototype, "dataSource", {
        set: function (item) {
            this._dataSource = item;
            if (item) {
                this.index.text = item.index;
                this.bgImg.skin = this.returnStatusImg(item.status);
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 选择号码
     * @param item 当前按钮
     */
    Card.prototype.clickNumber = function (item) {
        if (this._dataSource.status === 3 || this._dataSource.status === 4) {
            return;
        }
        else if (this._dataSource.status === 1) {
            this.bgImg.skin = this.returnStatusImg(2);
            this._dataSource.status = 2;
        }
        else if (this._dataSource.status === 2) {
            this.bgImg.skin = this.returnStatusImg(1);
            this._dataSource.status = 1;
        }
    };
    /**
     * 根据状态返回对应图片
     * @param status  1：可选 2：选中 3:不可选 4：已选
     *
    */
    Card.prototype.returnStatusImg = function (status) {
        switch (status) {
            case 1: return 'comp/guessing/img_kexuan_select20.png';
            case 2: return 'comp/guessing/img_ok_select20.png';
            case 3: return 'comp/guessing/img_no_select20.png';
            case 4: return 'comp/guessing/img_yixuan_select20.png';
            default: return 'comp/guessing/img_kexuan_select20.png';
        }
    };
    return Card;
}(layaMaxUI_1.ui.template.numberListDOMUI));
exports.default = Card;
},{"../ui/layaMaxUI":11}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var assistantUI = /** @class */ (function (_super) {
        __extends(assistantUI, _super);
        function assistantUI() {
            return _super.call(this) || this;
        }
        assistantUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("assistant");
        };
        return assistantUI;
    }(Laya.Scene));
    ui.assistantUI = assistantUI;
    var CardUI = /** @class */ (function (_super) {
        __extends(CardUI, _super);
        function CardUI() {
            return _super.call(this) || this;
        }
        CardUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("Card");
        };
        return CardUI;
    }(Laya.View));
    ui.CardUI = CardUI;
    var guessingUI = /** @class */ (function (_super) {
        __extends(guessingUI, _super);
        function guessingUI() {
            return _super.call(this) || this;
        }
        guessingUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("guessing");
        };
        return guessingUI;
    }(Laya.Scene));
    ui.guessingUI = guessingUI;
    var homeUI = /** @class */ (function (_super) {
        __extends(homeUI, _super);
        function homeUI() {
            return _super.call(this) || this;
        }
        homeUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("home");
        };
        return homeUI;
    }(Laya.Scene));
    ui.homeUI = homeUI;
    var recordUI = /** @class */ (function (_super) {
        __extends(recordUI, _super);
        function recordUI() {
            return _super.call(this) || this;
        }
        recordUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("record");
        };
        return recordUI;
    }(Laya.Scene));
    ui.recordUI = recordUI;
    var TabbarUI = /** @class */ (function (_super) {
        __extends(TabbarUI, _super);
        function TabbarUI() {
            return _super.call(this) || this;
        }
        TabbarUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.loadScene("Tabbar");
        };
        return TabbarUI;
    }(Laya.View));
    ui.TabbarUI = TabbarUI;
})(ui = exports.ui || (exports.ui = {}));
(function (ui) {
    var template;
    (function (template) {
        var numberListDOMUI = /** @class */ (function (_super) {
            __extends(numberListDOMUI, _super);
            function numberListDOMUI() {
                return _super.call(this) || this;
            }
            numberListDOMUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("template/numberListDOM");
            };
            return numberListDOMUI;
        }(Laya.View));
        template.numberListDOMUI = numberListDOMUI;
    })(template = ui.template || (ui.template = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var tabbarArr = ['home.scene', 'record.scene', 'assistant.scene']; //tabbar的页面
var pageArr = ['guessing.scene']; //非tabbar页面
var Tabbar = /** @class */ (function (_super) {
    __extends(Tabbar, _super);
    function Tabbar() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Tabbar.getInstance = function () {
        if (!this._tabbar) {
            this._tabbar = new Tabbar();
        }
        return this._tabbar;
    };
    Tabbar.show = function () {
        var tabIns = this.getInstance();
        Laya.stage.addChild(tabIns);
    };
    Tabbar.hide = function () {
        if (this._tabbar) {
            this._tabbar.removeSelf();
        }
    };
    /**非tabbar跳转页面,可携带参数 */
    Tabbar.prototype.openScene = function (scene, param) {
        this._openSceneParam = param;
        this.tab.selectedIndex = Tabbar.SCENES.indexOf(scene);
    };
    /**监视tabbar改变 */
    Tabbar.prototype.createView = function (view) {
        _super.prototype.createView.call(this, view);
        this.tab.on(Laya.Event.CHANGE, this, this.onClickTab);
    };
    /**点击tabbar事件 */
    Tabbar.prototype.onClickTab = function () {
        var scene = Tabbar.SCENES[this.tab.selectedIndex];
        Laya.Scene.open(scene, true, this._openSceneParam);
        this._openSceneParam = null;
    };
    /**页面数组 */
    Tabbar.SCENES = tabbarArr.concat(pageArr);
    return Tabbar;
}(layaMaxUI_1.ui.TabbarUI));
exports.Tabbar = Tabbar;
},{"../ui/layaMaxUI":11}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL0Rvd25sb2Fkcy9MYXlhQWlySURFL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvcHVibGljU2NyaXB0L1BhZ2VOYXZTY3JpcHQudHMiLCJzcmMvcHVibGljU2NyaXB0L1BhZ2VTY3JpcHQudHMiLCJzcmMvcHVibGljU2NyaXB0L1NjcmVlbi50cyIsInNyYy9zY3JpcHQvQXNzaXN0YW50LnRzIiwic3JjL3NjcmlwdC9DYXJkLnRzIiwic3JjL3NjcmlwdC9HdWVzc2luZy50cyIsInNyYy9zY3JpcHQvSG9tZS50cyIsInNyYy90ZW1wbGF0ZS9udW1iZXJMaXN0RG9tU2NyaXB0LnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyIsInNyYy92aWV3L1RhYmJhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsZ0RBQTBDO0FBQzFDLHdEQUFrRDtBQUNsRCxnREFBMEM7QUFDMUMsc0NBQWdDO0FBQ2hDLDhDQUF3QztBQUN4Qyw4REFBd0Q7QUFDeEQsc0VBQWdFO0FBQ2hFLHNDQUFnQztBQUNoQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLHFCQUFxQixFQUFDLG1CQUFTLENBQUMsQ0FBQztRQUNyQyxHQUFHLENBQUMsNEJBQTRCLEVBQUMsb0JBQVUsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLGdCQUFnQixFQUFDLGNBQUksQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxvQkFB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QUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbEIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7WUFDbkIsRUFBQyxLQUFLLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUM7U0FDdEIsQ0FBQTtRQUtHLEtBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFD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RCxVQUFVO0lBQ00sYUFBTSxHQUFnQixTQUFTLFFBQUksT0FBTyxFQUFDO0lBcUMvRCxhQUFDO0NBM0NELEFBMkNDLENBM0MyQixjQUFFLENBQUMsUUFBUSxHQTJDdEM7QUEzQ1ksd0JBQU0iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBBc3Npc3RhbnQgZnJvbSBcIi4vc2NyaXB0L0Fzc2lzdGFudFwiXG5pbXBvcnQgUGFnZVNjcmlwdCBmcm9tIFwiLi9wdWJsaWNTY3JpcHQvUGFnZVNjcmlwdFwiXG5pbXBvcnQgU2NyZWVuIGZyb20gXCIuL3B1YmxpY1NjcmlwdC9TY3JlZW5cIlxuaW1wb3J0IENhcmQgZnJvbSBcIi4vc2NyaXB0L0NhcmRcIlxuaW1wb3J0IEd1ZXNzaW5nIGZyb20gXCIuL3NjcmlwdC9HdWVzc2luZ1wiXG5pbXBvcnQgUGFnZU5hdlNjcmlwdCBmcm9tIFwiLi9wdWJsaWNTY3JpcHQvUGFnZU5hdlNjcmlwdFwiXG5pbXBvcnQgbnVtYmVyTGlzdERvbVNjcmlwdCBmcm9tIFwiLi90ZW1wbGF0ZS9udW1iZXJMaXN0RG9tU2NyaXB0XCJcbmltcG9ydCBIb21lIGZyb20gXCIuL3NjcmlwdC9Ib21lXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTc1MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEzMzQ7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cImhvbWUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9Bc3Npc3RhbnQudHNcIixBc3Npc3RhbnQpO1xuICAgICAgICByZWcoXCJwdWJsaWNTY3JpcHQvUGFnZVNjcmlwdC50c1wiLFBhZ2VTY3JpcHQpO1xuICAgICAgICByZWcoXCJwdWJsaWNTY3JpcHQvU2NyZWVuLnRzXCIsU2NyZWVuKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0NhcmQudHNcIixDYXJkKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0d1ZXNzaW5nLnRzXCIsR3Vlc3NpbmcpO1xuICAgICAgICByZWcoXCJwdWJsaWNTY3JpcHQvUGFnZU5hdlNjcmlwdC50c1wiLFBhZ2VOYXZTY3JpcHQpO1xuICAgICAgICByZWcoXCJ0ZW1wbGF0ZS9udW1iZXJMaXN0RG9tU2NyaXB0LnRzXCIsbnVtYmVyTGlzdERvbVNjcmlwdCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9Ib21lLnRzXCIsSG9tZSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IHsgVGFiYmFyIH0gZnJvbSBcIi4uL3ZpZXcvVGFiYmFyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlTmF2U2NyaXB0IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOm5hdlBhZ2VTY3JpcHQsdGlwczon6KaB6Lez6L2s55qEc2NlbmUnLHR5cGU6U3RyaW5nLGRlZmF1bHQ6Jyd9ICovXHJcbiAgICBwdWJsaWMgbmF2UGFnZVNjcmlwdDpzdHJpbmcgPSAnJztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCl9XHJcblxyXG4gICAgb25DbGljaygpOnZvaWQgeyAgICAgICAgXHJcbiAgICAgICAgVGFiYmFyLmdldEluc3RhbmNlKCkub3BlblNjZW5lKHRoaXMubmF2UGFnZVNjcmlwdCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUYWJiYXIgfSBmcm9tICcuLi92aWV3L1RhYmJhcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6c2hvd1RhYix0aXBzOifmmK/lkKbmnIlUYWJiYXInLHR5cGU6Qm9vbCxkZWZhdWx0OnRydWV9ICovXHJcbiAgICBwdWJsaWMgc2hvd1RhYjpib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7fVxyXG5cclxuICAgIG9uRW5hYmxlKCk6dm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd1RhYikge1xyXG4gICAgICAgICAgICBUYWJiYXIuc2hvdygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOnZvaWQge1xyXG4gICAgICAgIFRhYmJhci5oaWRlKClcclxuICAgIH1cclxufSIsIi8qXHJcbiAqIEBBdXRob3I6IFNpd2VuIFxyXG4gKiBARGF0ZTogMjAxOS0wMi0xNCAxMDo0MTozNyBcclxuICogQExhc3QgTW9kaWZpZWQgYnk6IG1pa2V5LnpoYW9wZW5nXHJcbiAqIEBMYXN0IE1vZGlmaWVkIHRpbWU6IDIwMTktMDItMTQgMTE6MDE6MTlcclxuICog5bGP5bmV6Ieq6YCC5bqU6ISa5pysXHJcbiAqL1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcmVlbiBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpiZ0NvbG9yLHRpcHM6J+iDjOaZr+minOiJsicsJ3R5cGU6U3RyaW5nLGRlZmF1bHQ6JyMwOTA4M2MnfSAqL1xyXG4gICAgcHVibGljIGJnQ29sb3I6c3RyaW5nID0gJyMwOTA4M2MnXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtzdXBlcigpO31cclxuXHJcbiAgICBvbkVuYWJsZSgpOnZvaWQge1xyXG4gICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJFU0laRSx0aGlzLHRoaXMub25SZXNpemUpXHJcbiAgICAgICB0aGlzLm9uUmVzaXplKClcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTp2b2lkIHtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LlJFU0laRSx0aGlzLHRoaXMub25SZXNpemUpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblJlc2l6ZSgpOnZvaWQge1xyXG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLmhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG4gICAgICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS5ncmFwaGljcy5kcmF3UmVjdCgwLDAsTGF5YS5zdGFnZS53aWR0aCxMYXlhLnN0YWdlLmhlaWdodCx0aGlzLmJnQ29sb3IpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3Npc3RhbnQgZXh0ZW5kcyB1aS5hc3Npc3RhbnRVSSB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgIH1cclxuICAgXHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IHsgVGFiYmFyIH0gZnJvbSBcIi4uL3ZpZXcvVGFiYmFyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIGV4dGVuZHMgdWkuQ2FyZFVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIHRoaXMub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuY2xpY2tJdGVtKVxyXG4gICAgfVxyXG4gICAgc2V0IGRhdGFTb3VyY2UoaXRlbTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IGl0ZW07XHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJkSXRlbS5za2luID0gaXRlbS5iZ0ltZztcclxuICAgICAgICAgICAgdGhpcy5zY2VuZUltZy5za2luID0gaXRlbS5zY2VuZUltZztcclxuICAgICAgICAgICAgdGhpcy5hbW91bnRfbGFiZWwudGV4dCA9IGAke2l0ZW0uYW1vdW50fSAke2l0ZW0uY29pblR5cGV9YFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQudGV4dCA9IGAke2l0ZW0uYW1vdW50LzJ9ICR7aXRlbS5jb2luVHlwZX1gXHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQudGV4dCA9IGAke2l0ZW0uc3BlZWQvMn0vJHtpdGVtLnNwZWVkfWBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGlja0l0ZW0oKTp2b2lkIHtcclxuICAgICAgICAvLyB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2luZGV4Jyx0aGlzLl9kYXRhU291cmNlLmluZGV4KVxyXG4gICAgICAgIFRhYmJhci5nZXRJbnN0YW5jZSgpLm9wZW5TY2VuZShcImd1ZXNzaW5nLnNjZW5lXCIsIHRoaXMuX2RhdGFTb3VyY2UpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHdWVzc2luZyBleHRlbmRzIHVpLmd1ZXNzaW5nVUkge1xyXG5cclxuICAgIHByaXZhdGUgbnVtYmVyQXJyOm51bWJlcltdID0gW107IC8v5pyq6YCJ5Lit55qE5pWw5o2uXHJcbiAgICBwcml2YXRlIGhhbGZBcnI6bnVtYmVyW10gPSBbXTsgLy/kuIDljYrnmoTmnKrpgInkuK3mlbDmja5cclxuICAgIHByaXZhdGUgcmF3RGF0YUFycl9uZXc6YW55W10gPSBbXTsvL+mVnOWDj+aVsOe7hFxyXG4gICAgcHJpdmF0ZSByYXdEYXRhQXJyOmFueVtdID0gWyAvL+WOn+Wni+aVsOaNrlxyXG4gICAgICAgIHtpbmRleDoxLHN0YXR1czoxfSxcclxuICAgICAgICB7aW5kZXg6MixzdGF0dXM6M30sXHJcbiAgICAgICAge2luZGV4OjMsc3RhdHVzOjF9LFxyXG4gICAgICAgIHtpbmRleDo0LHN0YXR1czoxfSxcclxuICAgICAgICB7aW5kZXg6NSxzdGF0dXM6NH0sXHJcbiAgICAgICAge2luZGV4OjYsc3RhdHVzOjF9LFxyXG4gICAgICAgIHtpbmRleDo3LHN0YXR1czoxfSxcclxuICAgICAgICB7aW5kZXg6OCxzdGF0dXM6MX0sXHJcbiAgICAgICAge2luZGV4Ojksc3RhdHVzOjR9LFxyXG4gICAgICAgIHtpbmRleDoxMCxzdGF0dXM6MX0sXHJcbiAgICAgICAge2luZGV4OjExLHN0YXR1czozfSxcclxuICAgICAgICB7aW5kZXg6MTIsc3RhdHVzOjR9LFxyXG4gICAgICAgIHtpbmRleDoxMyxzdGF0dXM6MX0sXHJcbiAgICAgICAge2luZGV4OjE0LHN0YXR1czoxfSxcclxuICAgICAgICB7aW5kZXg6MTUsc3RhdHVzOjN9LFxyXG4gICAgICAgIHtpbmRleDoxNixzdGF0dXM6MX0sXHJcbiAgICAgICAge2luZGV4OjE3LHN0YXR1czoxfSxcclxuICAgIF1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuXHJcbiAgICAgICAgdGhpcy5idG5fYnV5Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLmJ1eUZ1bmMpXHJcblxyXG4gICAgICAgIC8vIOmAieaLqeaMiemSrue7hOe7keWumuS6i+S7tlxyXG4gICAgICAgIHRoaXMucmFuZG9tX29uZS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5zZWxlY3RGdW5jLFsxXSlcclxuICAgICAgICB0aGlzLnJhbmRvbV9iZWZvcmUub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuc2VsZWN0RnVuYyxbMl0pXHJcbiAgICAgICAgdGhpcy5yYW5kb21fYWZ0ZXIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuc2VsZWN0RnVuYyxbM10pXHJcbiAgICAgICAgdGhpcy5yYW5kb21fYWxsLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLnNlbGVjdEZ1bmMsWzRdKVxyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+i/m+WFpemhtemdoicpO1xyXG4gICAgICAgIC8vIOmAiemhueWNoVxyXG4gICAgICAgIHRoaXMubnVtYmVyTGlzdC5hcnJheSA9IHRoaXMucmF3RGF0YUFycjtcclxuICAgIH1cclxuICAgIG9uT3BlbmVkKGRhdGE6YW55KXtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLCfpppbpobXkvKDpgJLnmoRjYXJk5pWw5o2uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6LSt5LmwICovXHJcbiAgICBwcml2YXRlIGJ1eUZ1bmMoKTp2b2lkIHtcclxuICAgICAgICBhbGVydCgxMTEyMzEyMylcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAieaLqeaMiemSrue7hFxyXG4gICAgICogQHBhcmFtIHR5cGUg6YCJ5oup57G75Z6LICAxOumaj+S4gCAgMu+8muWJjeWNiiAz77ya5ZCO5Y2KIDTvvJrlhajpg6hcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RGdW5jKHR5cGU6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnJhd0RhdGFBcnJfbmV3ID0gdGhpcy5yYXdEYXRhQXJyOyAvL+WIneWni+WMluaVsOe7hFxyXG4gICAgICAgIHRoaXMubnVtYmVyQXJyID0gW107Ly/liJ3lp4vljJbmlbDnu4RcclxuICAgICAgICB0aGlzLmhhbGZBcnIgPSBbXTsvL+WIneWni+WMluaVsOe7hFxyXG5cclxuICAgICAgICB0aGlzLnJhd0RhdGFBcnJfbmV3LmZvckVhY2goaXRlbT0+e1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPD0gMikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5udW1iZXJBcnIucHVzaChpdGVtLmluZGV4KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5yYW5kb21OdW1iZXIodGhpcy5udW1iZXJBcnIsMSkgLy/pmo/kuIBcclxuICAgICAgICB9ZWxzZSBpZiAodHlwZSA9PT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLmhhbGZBcnIgPSB0aGlzLm51bWJlckFyci5zbGljZSgwLE1hdGguZmxvb3IodGhpcy5udW1iZXJBcnIubGVuZ3RoIC8gMikpICAvL+WJjeWNilxyXG4gICAgICAgICAgICB0aGlzLnJhbmRvbU51bWJlcih0aGlzLmhhbGZBcnIsMilcclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFsZkFyciA9IHRoaXMubnVtYmVyQXJyLnNsaWNlKE1hdGguZmxvb3IodGhpcy5udW1iZXJBcnIubGVuZ3RoIC8gMikpICAvL+WQjuWNilxyXG4gICAgICAgICAgICB0aGlzLnJhbmRvbU51bWJlcih0aGlzLmhhbGZBcnIsMilcclxuICAgICAgICB9ZWxzZSBpZih0eXBlID09PSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFsZkFyciA9IHRoaXMubnVtYmVyQXJyOy8v5YWo6YOoXHJcbiAgICAgICAgICAgIHRoaXMucmFuZG9tTnVtYmVyKHRoaXMuaGFsZkFyciwyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirku47mlbDnu4TkuK3pmo/mnLrlj5bkuIDkuKrmlbAgKi9cclxuICAgIHByaXZhdGUgcmFuZG9tTnVtYmVyKGFycjpudW1iZXJbXSx0eXBlPzpudW1iZXIpe1xyXG4gICAgICAgIGNvbnN0IHJhbmQ6bnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpKTsgLy/pmo/kuIBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpbmRleCA9IGFycltyYW5kXTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnJhd0RhdGFBcnJfbmV3LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9IDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IDIpIHtcclxuICAgICAgICAgICAgYXJyLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXdEYXRhQXJyX25ldy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbCA9PT0gaXRlbS5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9IDJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm51bWJlckxpc3QuYXJyYXkgPSB0aGlzLnJhd0RhdGFBcnJfbmV3XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyB1aS5ob21lVUkge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpOnZvaWR7XHJcbiAgICAgICAgLy8g6YCJ6aG55Y2hXHJcbiAgICAgICAgdGhpcy5saXN0LmFycmF5ID0gW1xyXG4gICAgICAgICAgICB7aW5kZXg6MSxzcGVlZDoyLGFtb3VudDoxNSxjb2luVHlwZTonVVNEVCcsYmdJbWc6J2NvbXAvaG9tZS9pbWdfamluYmlfMi5wbmcnLHNjZW5lSW1nOidjb21wL2hvbWUvaW1nX3NjZW5lX3BrLnBuZyd9LFxyXG4gICAgICAgICAgICB7aW5kZXg6MixzcGVlZDoyMCxhbW91bnQ6NDUsY29pblR5cGU6J1VTRFQnLGJnSW1nOidjb21wL2hvbWUvaW1nX2ppbmJpXzIucG5nJyxzY2VuZUltZzonY29tcC9ob21lL2ltZ19zY2VuZV8yMC5wbmcnfSxcclxuICAgICAgICAgICAge2luZGV4OjMsc3BlZWQ6MixhbW91bnQ6OTAsY29pblR5cGU6J1VTRFQnLGJnSW1nOidjb21wL2hvbWUvaW1nX2ppbmJpXzIucG5nJyxzY2VuZUltZzonY29tcC9ob21lL2ltZ19zY2VuZV9way5wbmcnfSxcclxuICAgICAgICAgICAge2luZGV4OjQsc3BlZWQ6MixhbW91bnQ6NDUwLGNvaW5UeXBlOidVU0RUJyxiZ0ltZzonY29tcC9ob21lL2ltZ19qaW5iaV80LnBuZycsc2NlbmVJbWc6J2NvbXAvaG9tZS9pbWdfc2NlbmVfcGsucG5nJ30sXHJcbiAgICAgICAgICAgIHtpbmRleDo1LHNwZWVkOjQsYW1vdW50OjkwMCxjb2luVHlwZTonVVNEVCcsYmdJbWc6J2NvbXAvaG9tZS9pbWdfamluYmlfNC5wbmcnLHNjZW5lSW1nOidjb21wL2hvbWUvaW1nX3NjZW5lXzQucG5nJ30sXHJcbiAgICAgICAgICAgIHtpbmRleDo2LHNwZWVkOjQsYW1vdW50OjE4MDAsY29pblR5cGU6J1VTRFQnLGJnSW1nOidjb21wL2hvbWUvaW1nX2ppbmJpXzIwLnBuZycsc2NlbmVJbWc6J2NvbXAvaG9tZS9pbWdfc2NlbmVfMjAucG5nJ30sXHJcbiAgICAgICAgICAgIHtpbmRleDo3LHNwZWVkOjQsYW1vdW50OjQ1MDAsY29pblR5cGU6J1VTRFQnLGJnSW1nOidjb21wL2hvbWUvaW1nX2ppbmJpXzIwLnBuZycsc2NlbmVJbWc6J2NvbXAvaG9tZS9pbWdfc2NlbmVfMjAucG5nJ30sXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQgZXh0ZW5kcyB1aS50ZW1wbGF0ZS5udW1iZXJMaXN0RE9NVUkge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5jbGlja051bWJlcilcclxuXHJcbiAgICB9XHJcbiAgICBzZXQgZGF0YVNvdXJjZShpdGVtOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gaXRlbTtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4LnRleHQgPSBpdGVtLmluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLmJnSW1nLnNraW4gPSB0aGlzLnJldHVyblN0YXR1c0ltZyhpdGVtLnN0YXR1cylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgInmi6nlj7fnoIFcclxuICAgICAqIEBwYXJhbSBpdGVtIOW9k+WJjeaMiemSrlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNsaWNrTnVtYmVyKGl0ZW06YW55KTp2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5fZGF0YVNvdXJjZS5zdGF0dXMgPT09IDMgfHwgdGhpcy5fZGF0YVNvdXJjZS5zdGF0dXMgPT09IDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuX2RhdGFTb3VyY2Uuc3RhdHVzID09PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5iZ0ltZy5za2luID0gdGhpcy5yZXR1cm5TdGF0dXNJbWcoMilcclxuICAgICAgICAgICAgdGhpcy5fZGF0YVNvdXJjZS5zdGF0dXMgPSAyO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuX2RhdGFTb3VyY2Uuc3RhdHVzID09PSAyKXtcclxuICAgICAgICAgICAgdGhpcy5iZ0ltZy5za2luID0gdGhpcy5yZXR1cm5TdGF0dXNJbWcoMSlcclxuICAgICAgICAgICAgdGhpcy5fZGF0YVNvdXJjZS5zdGF0dXMgPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7nirbmgIHov5Tlm57lr7nlupTlm77niYdcclxuICAgICAqIEBwYXJhbSBzdGF0dXMgIDHvvJrlj6/pgIkgMu+8mumAieS4rSAzOuS4jeWPr+mAiSA077ya5bey6YCJXHJcbiAgICAgKiBcclxuICAgICovXHJcbiAgICBwcml2YXRlIHJldHVyblN0YXR1c0ltZyhzdGF0dXM6bnVtYmVyKXtcclxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlIDE6cmV0dXJuICdjb21wL2d1ZXNzaW5nL2ltZ19rZXh1YW5fc2VsZWN0MjAucG5nJ1xyXG4gICAgICAgICAgICBjYXNlIDI6cmV0dXJuICdjb21wL2d1ZXNzaW5nL2ltZ19va19zZWxlY3QyMC5wbmcnXHJcbiAgICAgICAgICAgIGNhc2UgMzpyZXR1cm4gJ2NvbXAvZ3Vlc3NpbmcvaW1nX25vX3NlbGVjdDIwLnBuZydcclxuICAgICAgICAgICAgY2FzZSA0OnJldHVybiAnY29tcC9ndWVzc2luZy9pbWdfeWl4dWFuX3NlbGVjdDIwLnBuZydcclxuICAgICAgICAgICAgZGVmYXVsdDpyZXR1cm4gJ2NvbXAvZ3Vlc3NpbmcvaW1nX2tleHVhbl9zZWxlY3QyMC5wbmcnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aSB7XHJcbiAgICBleHBvcnQgY2xhc3MgYXNzaXN0YW50VUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiYXNzaXN0YW50XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBDYXJkVUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIGFuaTE6TGF5YS5GcmFtZUFuaW1hdGlvbjtcblx0XHRwdWJsaWMgY2FyZEl0ZW06TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgc2NlbmVJbWc6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgYW1vdW50X2xhYmVsOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIGN1cnJlbnQ6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgc3BlZWQ6TGF5YS5MYWJlbDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcIkNhcmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGNsYXNzIGd1ZXNzaW5nVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuXHRcdHB1YmxpYyB1bml0UHJpY2U6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgbnVtYmVyTGlzdDpMYXlhLkxpc3Q7XG5cdFx0cHVibGljIGJ0bl9idXk6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgYnRuX3NlbGVjdDpMYXlhLlZpZXc7XG5cdFx0cHVibGljIHJhbmRvbV9vbmU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgcmFuZG9tX2JlZm9yZTpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyByYW5kb21fYWZ0ZXI6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgcmFuZG9tX2FsbDpMYXlhLkxhYmVsO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ3Vlc3NpbmdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGNsYXNzIGhvbWVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG5cdFx0cHVibGljIHB1dF9pbjpMYXlhLkZyYW1lQW5pbWF0aW9uO1xuXHRcdHB1YmxpYyByb2NrZXRfc2hvdzpMYXlhLkZyYW1lQW5pbWF0aW9uO1xuXHRcdHB1YmxpYyBkb21fc2hvdzpMYXlhLkZyYW1lQW5pbWF0aW9uO1xuXHRcdHB1YmxpYyB0dWljaHU6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgYnRuUmVjaGFyZ2U6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgcHV0aW46TGF5YS5Cb3g7XG5cdFx0cHVibGljIGxpc3Q6TGF5YS5MaXN0O1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiaG9tZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgcmVjb3JkVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwicmVjb3JkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBUYWJiYXJVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgdGFiOkxheWEuVGFiO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiVGFiYmFyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgbW9kdWxlIHVpLnRlbXBsYXRlIHtcclxuICAgIGV4cG9ydCBjbGFzcyBudW1iZXJMaXN0RE9NVUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIGJnSW1nOkxheWEuSW1hZ2U7XG5cdFx0cHVibGljIGluZGV4OkxheWEuTGFiZWw7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZW1wbGF0ZS9udW1iZXJMaXN0RE9NXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIiwiaW1wb3J0IHsgdWkgfSBmcm9tICcuLi91aS9sYXlhTWF4VUknXHJcblxyXG5cclxuY29uc3QgdGFiYmFyQXJyOnN0cmluZ1tdID0gWydob21lLnNjZW5lJywncmVjb3JkLnNjZW5lJywnYXNzaXN0YW50LnNjZW5lJ10gLy90YWJiYXLnmoTpobXpnaJcclxuY29uc3QgcGFnZUFycjpzdHJpbmdbXSA9IFsnZ3Vlc3Npbmcuc2NlbmUnXSAvL+mdnnRhYmJhcumhtemdolxyXG5cclxuZXhwb3J0IGNsYXNzIFRhYmJhciBleHRlbmRzIHVpLlRhYmJhclVJIHtcclxuICAgIC8qKumhtemdouS8oOmAkueahOWPguaVsCAqL1xyXG4gICAgcHJpdmF0ZSBfb3BlblNjZW5lUGFyYW06IGFueTtcclxuICAgIC8qKumAieS4reeahHRhYmJhciAqL1xyXG4gICAgc3RhdGljIF90YWJiYXI6VGFiYmFyO1xyXG4gICAgLyoq6aG16Z2i5pWw57uEICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgU0NFTkVTOnN0cmluZ1tdID0gWy4uLnRhYmJhckFyciwuLi5wYWdlQXJyXVxyXG5cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOlRhYmJhciB7XHJcbiAgICAgICAgaWYoIXRoaXMuX3RhYmJhcil7XHJcbiAgICAgICAgICAgIHRoaXMuX3RhYmJhciA9IG5ldyBUYWJiYXIoKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fdGFiYmFyO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzaG93KCl7XHJcbiAgICAgICAgbGV0IHRhYkluczpUYWJiYXIgPSB0aGlzLmdldEluc3RhbmNlKClcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRhYklucylcclxuICAgIH1cclxuICAgIHN0YXRpYyBoaWRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5fdGFiYmFyKXtcclxuICAgICAgICAgICAgdGhpcy5fdGFiYmFyLnJlbW92ZVNlbGYoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirpnZ50YWJiYXLot7PovazpobXpnaIs5Y+v5pC65bim5Y+C5pWwICovXHJcbiAgICBvcGVuU2NlbmUoc2NlbmU6IHN0cmluZywgcGFyYW0/OiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9vcGVuU2NlbmVQYXJhbSA9IHBhcmFtO1xyXG4gICAgICAgIHRoaXMudGFiLnNlbGVjdGVkSW5kZXggPSBUYWJiYXIuU0NFTkVTLmluZGV4T2Yoc2NlbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuebkeinhnRhYmJhcuaUueWPmCAqL1xyXG4gICAgY3JlYXRlVmlldyh2aWV3OmFueSl7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlldyh2aWV3KVxyXG4gICAgICAgIHRoaXMudGFiLm9uKExheWEuRXZlbnQuQ0hBTkdFLHRoaXMsdGhpcy5vbkNsaWNrVGFiKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKueCueWHu3RhYmJhcuS6i+S7tiAqL1xyXG4gICAgb25DbGlja1RhYigpIHtcclxuICAgICAgICBsZXQgc2NlbmU6c3RyaW5nID0gVGFiYmFyLlNDRU5FU1t0aGlzLnRhYi5zZWxlY3RlZEluZGV4XVxyXG4gICAgICAgIExheWEuU2NlbmUub3BlbihzY2VuZSwgdHJ1ZSwgdGhpcy5fb3BlblNjZW5lUGFyYW0pO1xyXG4gICAgICAgIHRoaXMuX29wZW5TY2VuZVBhcmFtID0gbnVsbDtcclxuICAgIH1cclxufSJdfQ==
